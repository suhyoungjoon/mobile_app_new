# InsightI 공사하자보수관리 앱 테스트 가이드

## 🎯 테스트 목표
공사하자보수관리 앱의 전체 기능을 단계별로 테스트하여 실제 서비스 동작을 확인합니다.

## 🚀 시스템 상태
- **백엔드**: http://localhost:3000 (Node.js + Express + PostgreSQL)
- **프론트엔드**: http://localhost:8080 (HTML/CSS/JS + CORS 지원)
- **데이터베이스**: PostgreSQL (Docker 컨테이너)
- **인증**: JWT 토큰 기반

## 📋 테스트 시나리오

### 1단계: 로그인 테스트
**목표**: 사용자 인증 및 세션 생성 확인

**테스트 데이터**:
- 아파트: 서울 인싸이트자이
- 동: 101
- 호: 1203
- 성명: 홍길동
- 전화번호: 010-1234-5678

**예상 결과**:
- ✅ 로그인 성공 메시지
- ✅ 상단에 "101-1203 홍길동" 표시
- ✅ 케이스 목록 화면으로 이동

### 2단계: 케이스 생성 테스트
**목표**: 새로운 하자접수 케이스 생성 확인

**테스트 절차**:
1. "새 케이스 만들기" 버튼 클릭
2. 케이스 유형 선택: "하자접수"
3. "생성" 버튼 클릭

**예상 결과**:
- ✅ 케이스 생성 성공 메시지
- ✅ 케이스 목록에 새 케이스 표시
- ✅ 케이스 ID 생성 (예: CASE-1759571234567)

### 3단계: 하자 등록 테스트
**목표**: 하자 정보 입력 및 사진 업로드 확인

**테스트 데이터**:
- 위치: 거실
- 세부공정: 바닥재
- 하자 내용: 마루판 들뜸 현상 발견
- 메모: 현장 특이사항 - 습기로 인한 변형

**테스트 절차**:
1. "하자 등록" 버튼 클릭
2. 위치, 세부공정, 내용 입력
3. 메모 입력 (선택사항)
4. 사진 업로드 (근거리, 원거리)
5. "저장" 버튼 클릭

**예상 결과**:
- ✅ 하자 저장 성공 메시지
- ✅ 케이스 목록으로 돌아가기
- ✅ 업로드된 사진 표시

### 4단계: 보고서 미리보기 테스트
**목표**: 등록된 하자 정보를 보고서 형태로 확인

**테스트 절차**:
1. 케이스 목록에서 "보고서" 버튼 클릭
2. 보고서 미리보기 화면 확인

**예상 결과**:
- ✅ 하자 목록 표시
- ✅ 위치, 세부공정, 내용, 메모 표시
- ✅ 업로드된 사진 표시
- ✅ 보고서 형식으로 정리된 레이아웃

### 5단계: 보고서 전송 테스트
**목표**: PDF 보고서 생성 및 SMS 전송 확인

**테스트 절차**:
1. 보고서 화면에서 "전송" 버튼 클릭
2. 전송 완료 메시지 확인

**예상 결과**:
- ✅ PDF 보고서 생성 성공
- ✅ SMS 전송 완료 메시지
- ✅ 보고서 다운로드 링크 제공

## 🔍 주요 확인 사항

### 데이터베이스 연동
- [ ] 로그인 시 실제 DB에서 세대 정보 조회
- [ ] 케이스 생성 시 DB에 저장
- [ ] 하자 등록 시 DB에 저장
- [ ] 보고서 생성 시 DB 데이터 사용

### 파일 업로드
- [ ] 사진 업로드 정상 동작
- [ ] 이미지 리사이징 및 최적화
- [ ] 썸네일 생성
- [ ] 파일 저장 경로 확인

### API 통신
- [ ] CORS 설정 정상 동작
- [ ] JWT 토큰 인증
- [ ] 에러 처리 및 메시지 표시
- [ ] 로딩 상태 표시

### 사용자 경험
- [ ] 반응형 디자인 (모바일 최적화)
- [ ] 직관적인 네비게이션
- [ ] 명확한 피드백 메시지
- [ ] 오류 상황 처리

## 🐛 문제 해결

### 일반적인 문제
1. **"Failed to fetch" 오류**: CORS 설정 확인
2. **"role does not exist" 오류**: DB 사용자 권한 확인
3. **사진 업로드 실패**: 파일 크기 및 형식 확인
4. **보고서 생성 실패**: DB 연결 상태 확인

### 디버깅 방법
1. 브라우저 개발자 도구 (F12) → Console 탭
2. Network 탭에서 API 요청/응답 확인
3. 백엔드 서버 로그 확인
4. 데이터베이스 직접 조회

## 📊 성능 지표

### 응답 시간
- 로그인: < 2초
- 케이스 생성: < 1초
- 하자 등록: < 3초 (사진 업로드 포함)
- 보고서 생성: < 5초

### 데이터 처리
- 사진 업로드: 최대 10MB
- 이미지 최적화: 1200x1200px
- 썸네일: 200x200px
- PDF 생성: A4 크기

## 🎬 녹화 시나리오

### 녹화 순서
1. **시작**: 브라우저에서 http://localhost:8080 접속
2. **로그인**: 테스트 데이터로 로그인
3. **케이스 생성**: 새 케이스 만들기
4. **하자 등록**: 하자 정보 입력 및 사진 업로드
5. **보고서 확인**: 미리보기 및 전송
6. **완료**: 전체 플로우 확인

### 녹화 팁
- 각 단계별로 명확한 설명
- 오류 발생 시 해결 과정 포함
- 성공 메시지 및 결과 화면 강조
- 전체 소요 시간: 약 5-10분

## 📝 테스트 결과 기록

### 테스트 일시
- 날짜: ___________
- 시간: ___________
- 테스터: ___________

### 테스트 결과
- [ ] 1단계: 로그인 테스트
- [ ] 2단계: 케이스 생성 테스트
- [ ] 3단계: 하자 등록 테스트
- [ ] 4단계: 보고서 미리보기 테스트
- [ ] 5단계: 보고서 전송 테스트

### 발견된 문제
1. ________________
2. ________________
3. ________________

### 개선 사항
1. ________________
2. ________________
3. ________________

---

**참고**: 이 가이드를 따라 테스트를 진행하면서 발견되는 문제점이나 개선사항을 기록해 주세요.
