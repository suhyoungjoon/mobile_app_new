# 점검원 화면 기능 테스트 시나리오

## 테스트 환경
- **URL**: https://insighti.vercel.app/inspector.html
- **자동 로그인**: 복합체명 "admin"으로 자동 로그인

## 테스트 시나리오

### 1. 목록 조회 (✅ 구현됨)
**테스트 단계:**
1. 브라우저에서 `/inspector.html` 접속
2. 자동 로그인 확인
3. 하자 목록이 화면에 표시되는지 확인
4. 각 하자 카드에 "점검대기" 또는 "점검완료" 배지 표시 확인
5. 하자 정보(위치, 세부공정, 내용, 케이스 ID) 표시 확인

**예상 결과:**
- 자동 로그인 성공
- 모든 하자 목록이 카드 형태로 표시됨
- 점검 완료된 하자는 "점검완료" 배지, 미완료는 "점검대기" 배지
- 점검 완료된 하자는 점검 결과 요약 표시 (예: "공기질 1건, 라돈 1건")

---

### 2. 측정값 입력 (✅ 구현됨)
**테스트 단계:**

#### 2-1. 공기질 측정 입력
1. 하자 카드에서 "📊 점검결과 입력" 버튼 클릭
2. "공기질" 탭 선택 확인
3. 다음 정보 입력:
   - 위치: "거실"
   - 공정: "마감"
   - TVOC: "0.5"
   - HCHO: "0.1"
   - CO2: "450"
   - 메모: "테스트 측정"
   - 결과: "정상"
4. "저장" 버튼 클릭

#### 2-2. 라돈 측정 입력
1. 다른 하자 선택 또는 같은 하자 재선택
2. "라돈" 탭 선택
3. 다음 정보 입력:
   - 위치: "침실"
   - 공정: "바닥재"
   - 라돈 농도: "150"
   - 단위: "Bq/m³"
   - 메모: "라돈 측정 테스트"
   - 결과: "정상"
4. "저장" 버튼 클릭

#### 2-3. 레벨기 측정 입력
1. 하자 선택
2. "레벨기" 탭 선택
3. 다음 정보 입력:
   - 위치: "주방"
   - 공정: "바닥"
   - 좌측 (mm): "-2.5"
   - 우측 (mm): "1.8"
   - 메모: "레벨기 측정 테스트"
   - 결과: "확인요망"
4. "저장" 버튼 클릭

**예상 결과:**
- 각 측정값 저장 시 "점검결과가 저장되었습니다" 토스트 메시지 표시
- 저장 후 자동으로 하자 목록 화면으로 돌아감
- 하자 목록이 자동으로 갱신됨

---

### 3. 입력 후 재조회 (✅ 구현됨)
**테스트 단계:**
1. 측정값 입력 후 하자 목록 화면으로 자동 이동 확인
2. 입력한 하자의 배지가 "점검완료"로 변경되었는지 확인
3. 하자 카드에 점검 결과 요약이 표시되는지 확인 (예: "공기질 1건")
4. 하자 목록 새로고침 버튼 클릭 (또는 페이지 새로고침)
5. 저장된 측정값이 유지되는지 확인

**예상 결과:**
- 측정값 입력 후 목록이 자동 갱신됨
- "점검완료" 배지가 올바르게 표시됨
- 점검 결과 요약이 정확하게 표시됨
- 페이지 새로고침 후에도 데이터 유지

---

### 4. 수정 기능 (❌ 미구현)
**현재 상태:**
- 점검 결과는 **추가만 가능**하며, 수정/삭제 기능은 구현되지 않음
- 같은 하자에 여러 측정값을 추가로 입력할 수 있음
- 기존 측정값을 수정하려면 새로운 측정값을 추가해야 함

**대안:**
- 같은 하자에 다른 측정 타입(공기질, 라돈, 레벨기)을 추가로 입력 가능
- 같은 타입의 측정값도 여러 개 추가 가능

---

## 주요 기능 확인 사항

### ✅ 자동 로그인
- 페이지 로드 시 자동으로 "admin" 계정으로 로그인
- 세션 유지 확인

### ✅ 하자 목록 조회
- `/api/defects/all` 엔드포인트 호출
- 모든 하자의 측정값 조회 (`/api/inspections/defects/:defectId`)
- 하자별 사진 표시 확인

### ✅ 측정값 입력
- 공기질: TVOC, HCHO, CO2
- 라돈: 라돈 농도, 단위 선택
- 레벨기: 좌측/우측 mm 값

### ✅ 폼 검증
- 필수 필드 입력 확인 (위치, 라돈 농도, 좌우측 수치 등)
- 숫자 형식 검증

### ✅ 상태 표시
- 로딩 중 표시
- 성공/실패 토스트 메시지
- 점검 완료/대기 배지

---

## 테스트 체크리스트

- [ ] 자동 로그인 정상 작동
- [ ] 하자 목록 정상 조회
- [ ] 하자 카드 UI 정상 표시
- [ ] 점검결과 입력 화면 정상 이동
- [ ] 공기질 측정값 정상 저장
- [ ] 라돈 측정값 정상 저장
- [ ] 레벨기 측정값 정상 저장
- [ ] 저장 후 목록 자동 갱신
- [ ] 점검완료 배지 정상 표시
- [ ] 점검 결과 요약 정상 표시
- [ ] 페이지 새로고침 후 데이터 유지
- [ ] 에러 처리 정상 작동

---

## 알려진 제한사항

1. **수정 기능 없음**: 기존 측정값을 수정할 수 없으며, 새로운 측정값을 추가해야 함
2. **삭제 기능 없음**: 측정값을 삭제할 수 없음
3. **열화상 기능 미구현**: 열화상 사진 등록 기능은 아직 구현되지 않음
