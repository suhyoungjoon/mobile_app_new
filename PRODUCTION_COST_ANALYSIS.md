# 💰 InsightI 상용 서비스 비용 분석 및 추가 작업

## 📊 운영 조건 요약

### 사용자 규모
- **일반 사용자 (입주자)**: 100명
- **점검원**: 10명
- **관리자**: 1명
- **총 사용자**: 111명

### 트랜잭션
- **일일 트랜잭션**: 300회 (사용자 100 + 점검원 100 + 관리자 100)
- **월간 트랜잭션**: 약 9,000회 (30일 기준)
- **연간 트랜잭션**: 약 108,000회

### 데이터 생성
- **사진 파일**: 일 100개, 보관 1개월 = 약 3,000개/월
- **AI 판정**: 일 50회 제한
- **보고서**: 월 100개, 보관 1개월 = 약 100개/월

---

## 💵 월간 비용 분석

### 1. 프론트엔드 호스팅 (Vercel)

#### 현재: 업그레이드된 플랜 (한 단계 업그레이드)
- **비용**: $0/월 (Hobby 플랜) 또는 $20/월 (Pro 플랜)
- **대역폭**: 100GB/월 (Hobby) 또는 1TB/월 (Pro)
- **요청**: 무제한
- **빌드 시간**: 100분/월 (Hobby) 또는 5,000분/월 (Pro)
- **커스텀 도메인**: 지원
- **SSL 인증서**: 자동
- **CDN**: 전 세계 분산

#### 예상 사용량
- **대역폭**: 약 50GB/월 (충분)
- **빌드**: 월 1-2회 (충분)

> **참고**: 현재 Vercel은 한 단계 업그레이드된 상태입니다. 정확한 플랜 및 비용은 Vercel 대시보드에서 확인하세요.

---

### 2. 백엔드 호스팅 (Render)

#### 현재: Free 플랜
- **Cold Start**: 최대 30초
- **Sleep**: 15분 비활성 시 대기 모드
- **CPU/RAM**: 제한적

#### 상용 서비스 필수: Starter 플랜
- **비용**: $7/월 (약 9,500원)
- **CPU/RAM**: 512MB RAM, 0.5 CPU
- **Cold Start**: 없음 (항상 실행)
- **대역폭**: 100GB/월
- **로그 보관**: 7일

#### 예상 사용량
- **일일 트랜잭션**: 300회 = 시간당 약 12.5회
- **피크 시간대**: 동시 접속 최대 20-30명
- **512MB RAM**: 충분
- **대역폭**: 약 10GB/월 (충분)

#### 대안: Professional 플랜 ($25/월)
- **CPU/RAM**: 1GB RAM, 1 CPU
- **대역폭**: 1TB/월
- **로그 보관**: 30일
- **자동 스케일링**: 지원

---

### 3. 데이터베이스 (Render PostgreSQL)

#### 현재: Starter 플랜 ($7/월) ✅ 업그레이드 완료
- **비용**: $7/월 (약 9,500원)
- **데이터 보관**: 무제한
- **용량**: 1GB (필요 시 확장 가능)
- **자동 백업**: 7일간 보관
- **연결 수**: 최대 25개

> **참고**: 현재 Render PostgreSQL은 무료 플랜에서 Starter 플랜($7/월)으로 업그레이드되어 있습니다.

#### 데이터 용량 계산
```
사진 파일 (1개월):
- 100개/일 × 30일 = 3,000개
- 평균 500KB/파일 = 1.5GB

보고서 (1개월):
- 100개/월 × 30일 = 100개
- 평균 2MB/파일 = 200MB

데이터베이스:
- 사용자 데이터: 약 10MB
- 하자 데이터: 약 50MB
- 점검 데이터: 약 50MB
- 총합: 약 110MB

총 필요 용량: 약 1.86GB
```

#### 권장: Professional 플랜 ($20/월)
- **용량**: 10GB
- **자동 백업**: 30일간 보관
- **연결 수**: 최대 100개
- **고성능**: 더 빠른 쿼리 처리

---

### 4. 파일 스토리지 (사진 및 보고서)

#### 옵션 1: Render 디스크 공간 (백엔드 서버 내부)
- **비용**: 포함 (백엔드 플랜에 포함)
- **제한**: 서버 재시작 시 삭제 가능
- **권장 여부**: ❌ 개발/테스트용

#### 옵션 2: AWS S3 (권장)
- **비용**: $0.023/GB/월 (스토리지)
  - 약 2GB 저장 = $0.046/월 (약 62원)
- **비용**: $0.005/1,000 요청 (GET)
  - 일 300회 × 30일 = 9,000회 = $0.045/월
- **비용**: $0.0004/1,000 요청 (PUT)
  - 일 200회 × 30일 = 6,000회 = $0.0024/월
- **총 비용**: 약 $0.10/월 (약 135원)
- **장점**: 영구 보관, 안정적, 확장 가능

#### 옵션 3: Azure Blob Storage
- **비용**: $0.018/GB/월 (LRS)
  - 약 2GB = $0.036/월
- **비용**: $0.004/10,000 요청
  - 약 15,000회 = $0.006/월
- **총 비용**: 약 $0.04/월 (약 54원)

#### 옵션 4: Google Cloud Storage
- **비용**: $0.020/GB/월
  - 약 2GB = $0.04/월
- **비용**: $0.005/10,000 요청
  - 약 15,000회 = $0.0075/월
- **총 비용**: 약 $0.05/월 (약 68원)

---

### 5. AI 판정 (다중 엔진 지원) ✅ 구현 완료

#### 현재 구현된 AI 판정 시스템
InsightI는 다중 AI 엔진을 지원하며, 관리자 설정에 따라 선택적으로 사용할 수 있습니다:

##### 5-1. 로컬 규칙 기반 분석 (무료)
- **비용**: **$0/월** (완전 무료)
- **처리 방식**: 이미지 통계 분석 (밝기, 대비, 색상 비율 등)
- **정확도**: 중간 수준 (규칙 기반)
- **처리 시간**: 빠름 (< 1초)
- **CPU 사용**: Render 서버 CPU 사용 (추가 비용 없음)
- **사용 시나리오**: 
  - 빠른 판정이 필요한 경우
  - 비용 절감이 중요한 경우
  - 기본적인 하자 감지가 필요한 경우

##### 5-2. Azure OpenAI GPT-4 Vision (유료)
- **비용 구조**:
  - 입력 비용: $0.0025/1K 토큰
  - 출력 비용: $0.01/1K 토큰
  - 이미지 분석: $0.01/이미지
- **정확도**: 높음 (고급 AI 모델)
- **처리 시간**: 중간 (2-5초)
- **예상 사용량**: 
  - 일일: 50회 (제한)
  - 월간: 1,500회
- **비용 계산**:
  ```
  일 50회:
  - 이미지 분석: 50 × $0.01 = $0.50
  - 입력 토큰: 50 × 500/1000 × $0.0025 = $0.0625
  - 출력 토큰: 50 × 200/1000 × $0.01 = $0.10
  일일 총합: $0.6625
  
  월간 (30일):
  - 총 비용: $0.6625 × 30 = $19.875
  - 약 27,000원
  ```
- **사용 시나리오**: 
  - 높은 정확도가 필요한 경우
  - 복잡한 하자 판정이 필요한 경우

##### 5-3. Hugging Face 오픈소스 모델 (무료/유료)
- **무료 플랜 (Inference API)**:
  - **비용**: **$0/월** (무료 할당량 내)
  - **제한**: 일일 요청 수 제한 (모델에 따라 다름)
  - **모델 예시**: `microsoft/resnet-50`, `Salesforce/blip-image-captioning-large`
  - **작업 유형**: 
    - Image Classification (이미지 분류)
    - Image-to-Text (이미지 설명 생성)
    - Visual Question Answering (시각적 질문 답변)
    - Object Detection (객체 감지, YOLO 등)
- **유료 플랜 (Inference Endpoint)**:
  - **비용**: $0.60/시간 ~ $2.40/시간 (모델 및 인스턴스 크기에 따라)
  - **장점**: 무제한 요청, 빠른 응답 시간
  - **사용 시나리오**: 대용량 트래픽 처리
- **현재 사용**: 무료 Inference API 사용 중
- **비용**: **$0/월** (무료 할당량 내)

##### 5-4. 하이브리드 모드 (비용 절감)
- **동작 방식**: 
  1. 로컬 규칙 기반 분석 먼저 실행 (무료)
  2. 신뢰도가 임계값 이하일 때만 클라우드 AI 호출
  3. Azure OpenAI 또는 Hugging Face 선택 호출
- **비용 절감 효과**:
  - 로컬 분석 성공 시: $0 (클라우드 호출 없음)
  - 로컬 분석 실패 시: 클라우드 AI 호출 (Azure: $0.025/회, Hugging Face: $0/회)
  - 예상 절감률: **50-70%** (로컬 성공률에 따라)
- **예상 월간 비용**:
  - 하이브리드 모드 (Azure): $6-$10/월 (약 8,000-13,500원)
  - 하이브리드 모드 (Hugging Face): $0/월 (무료 할당량 내)

#### AI 판정 설정에 따른 비용 비교

| 모드 | 월간 비용 | 정확도 | 처리 시간 | 비용 효율 |
|------|----------|--------|----------|----------|
| 로컬만 | $0 | 중간 | 빠름 | ⭐⭐⭐⭐⭐ |
| Hugging Face만 | $0 | 중상 | 중간 | ⭐⭐⭐⭐ |
| Azure OpenAI만 | $20 | 높음 | 중간 | ⭐⭐⭐ |
| 하이브리드 (HF) | $0 | 중상 | 중간 | ⭐⭐⭐⭐⭐ |
| 하이브리드 (Azure) | $6-$10 | 높음 | 중간 | ⭐⭐⭐⭐ |

#### 비용 절감 권장 설정
1. **초기 운영**: 로컬 + Hugging Face 하이브리드 모드 ($0/월)
2. **정확도 향상 필요 시**: 로컬 + Azure OpenAI 하이브리드 모드 ($6-$10/월)
3. **최고 정확도 필요 시**: Azure OpenAI만 사용 ($20/월)

> **참고**: 관리자 페이지에서 AI 판정 모드 및 프로바이더를 실시간으로 변경할 수 있습니다.

---

### 6. YouTube API (Google Cloud)

#### YouTube Data API v3 비용
- **무료 할당량**: 일 10,000 단위
- **검색 1회**: 약 100 단위
- **일일 최대**: 약 100회 검색

#### 예상 사용량
- **하자 등록**: 일 100회
- **검색 단위**: 100 × 100 = 10,000 단위
- **비용**: **$0 (무료 할당량 내)**

---

### 7. 푸시 알림 (VAPID 기반 Web Push) ✅ 구현 완료

#### 구현 상태
- **VAPID 키 기반 인증**: ✅ 구현 완료
- **Service Worker Push 이벤트**: ✅ 구현 완료
- **관리자 푸시 알림**: ✅ 구현 완료
- **다양한 알림 유형**: ✅ 구현 완료
  - 하자 등록 알림 (관리자에게)
  - 점검 완료 알림 (입주자에게)
  - 점검원 승인/거부 알림 (신청자에게)
  - 보고서 생성 완료 알림 (사용자에게)

#### 비용 분석
- **VAPID 키**: 무료 (자체 생성, 환경변수로 관리)
- **알림 발송**: 무료 (브라우저 Web Push API 제공)
- **구독 저장**: 데이터베이스 저장 (PostgreSQL, 기존 비용 내)
- **알림 전송 서버**: Render 백엔드 서버 사용 (기존 비용 내)
- **총 비용**: **$0/월** (추가 비용 없음)

#### 데이터베이스 사용량
- **push_subscription 테이블**: 구독 정보 저장
- **예상 데이터 크기**: 
  - 구독당 약 500 bytes
  - 111명 사용자 × 500 bytes = 약 55KB
  - PostgreSQL 비용 내에서 처리 (추가 비용 없음)

#### 알림 발송 빈도
- **하자 등록**: 일 100회 (관리자에게)
- **점검 완료**: 일 100회 (입주자에게)
- **점검원 승인**: 월 10회 (신청자에게)
- **보고서 생성**: 월 100회 (사용자에게)
- **총 알림 수**: 일 약 200회, 월 약 6,000회
- **비용**: **$0** (Web Push API 무료)

> **참고**: 푸시 알림은 브라우저의 Web Push API를 사용하므로 추가 비용이 발생하지 않습니다.

---

### 8. 개인정보 암호화 ✅ 구현 완료

#### 구현 상태
- **AES-256-CBC 암호화**: ✅ 구현 완료
- **암호화 대상 필드**: 
  - 사용자 이름 (`resident_name`)
  - 전화번호 (`phone`)
  - 이메일 (`email`)
  - 점검원 이름 (`inspector_name`)
- **자동 암호화/복호화**: ✅ API 레벨에서 자동 처리
- **암호화 키 관리**: 환경변수 (`ENCRYPTION_KEY`)로 관리

#### 비용 분석
- **암호화 처리**: 로컬 처리 (Render 서버 CPU 사용)
- **추가 클라우드 서비스**: 없음
- **데이터베이스 저장**: 암호화된 데이터 저장 (기존 PostgreSQL 비용 내)
- **성능 영향**: 
  - 암호화/복호화 오버헤드: 미미함 (< 1ms)
  - CPU 사용량 증가: 약 1-2% (무시 가능한 수준)
- **총 비용**: **$0/월** (추가 비용 없음)

#### 보안 효과
- **데이터 보호**: 개인정보가 암호화되어 저장
- **GDPR 준수**: 개인정보 보호 규정 준수
- **데이터 유출 시 피해 최소화**: 암호화 키 없이는 데이터 복호화 불가

> **참고**: 암호화는 Render 서버에서 처리되므로 추가 비용이 발생하지 않습니다.

---

### 9. SMS 알림 (Twilio) - 선택사항

#### 비용
- **전송 비용**: $0.005/건 (한국)
- **예상 사용량**: 보고서 발송 시 SMS
  - 월 100회 × $0.005 = $0.50/월
- **월 최소**: $0 (무료 크레딧 $15.50 제공)

> **참고**: 현재는 푸시 알림을 사용하므로 SMS는 선택사항입니다.

---

## 💰 월간 총 비용 요약

### 현재 구성 (실제 운영 중) ✅ 모든 기능 구현 완료
| 항목 | 플랜 | 월간 비용 | 원화 (KRW) | 비고 |
|------|------|----------|------------|------|
| 프론트엔드 | Vercel (업그레이드) | $0-$20 | 0-27,000원 | 플랜에 따라 |
| 백엔드 | Render Starter | $7 | 9,500원 | 항상 실행 |
| 데이터베이스 | Render PostgreSQL Starter | $7 | 9,500원 | 무제한 보관 |
| 파일 스토리지 | Render 디스크 (백엔드 포함) | $0 | 0원 | 임시 저장 |
| AI 판정 | 다중 엔진 지원 | $0-$20 | 0-27,000원 | 설정에 따라 |
| - 로컬 규칙 기반 | 무료 | $0 | 0원 | 기본 포함 |
| - Hugging Face | 무료 (할당량 내) | $0 | 0원 | 기본 포함 |
| - Azure OpenAI | 선택사항 | $0-$20 | 0-27,000원 | 필요 시 사용 |
| 푸시 알림 | VAPID Web Push | $0 | 0원 | ✅ 구현 완료 |
| 개인정보 암호화 | AES-256-CBC | $0 | 0원 | ✅ 구현 완료 |
| YouTube 검색 | Google API | $0 | 0원 | 무료 할당량 |
| SMS | Twilio (선택) | $0.50 | 675원 | 선택사항 |
| **총계** | | **$14.50-$54.50** | **약 19,600원-73,600원** | |

> **참고**: 
> - **Vercel 플랜**: Hobby ($0/월) 또는 Pro ($20/월)
> - **AI 판정**: 
>   - 최소 비용: $0/월 (로컬 + Hugging Face 하이브리드)
>   - 최대 비용: $20/월 (Azure OpenAI만 사용)
>   - 권장: 하이브리드 모드 ($0-$10/월)
> - **푸시 알림**: 완전 무료 (Web Push API 사용)
> - **개인정보 암호화**: 추가 비용 없음 (로컬 처리)
> - **파일 스토리지**: 현재 Render 디스크 사용 (안정성을 위해 S3 마이그레이션 권장)

### 최소 구성 (기본 운영) - 비용 절감 모드
| 항목 | 플랜 | 월간 비용 | 원화 (KRW) | 비고 |
|------|------|----------|------------|------|
| 프론트엔드 | Vercel Pro | $20 | 27,000원 | 안정적 운영 |
| 백엔드 | Render Starter | $7 | 9,500원 | 항상 실행 |
| 데이터베이스 | Render PostgreSQL Starter | $7 | 9,500원 | 무제한 보관 |
| 파일 스토리지 | AWS S3 | $0.10 | 135원 | 안정적 저장 |
| AI 판정 | 하이브리드 (로컬+HF) | $0 | 0원 | 무료 모드 |
| 푸시 알림 | VAPID Web Push | $0 | 0원 | 무료 |
| 개인정보 암호화 | AES-256-CBC | $0 | 0원 | 무료 |
| YouTube 검색 | Google API | $0 | 0원 | 무료 할당량 |
| SMS | Twilio (선택) | $0.50 | 675원 | 선택사항 |
| **총계** | | **$34.60** | **약 46,800원** | |

> **참고**: AI 판정을 하이브리드 모드(로컬+Hugging Face)로 설정하면 $0/월로 운영 가능합니다.

### 권장 구성 (안정적 운영)
| 항목 | 플랜 | 월간 비용 | 원화 (KRW) |
|------|------|----------|------------|
| 프론트엔드 | Vercel Pro | $20 | 27,000원 |
| 백엔드 | Render Professional | $25 | 34,000원 |
| 데이터베이스 | Render PostgreSQL Professional | $20 | 27,000원 |
| 파일 스토리지 | AWS S3 | $0.10 | 135원 |
| AI 판정 | Azure OpenAI | $20 | 27,000원 |
| SMS | Twilio (선택) | $0.50 | 675원 |
| **총계** | | **$85.60** | **약 115,600원** |

---

## 🚀 추가로 해야 될 작업

### 1. 인프라 개선 (필수)

#### 파일 스토리지 마이그레이션
- [ ] **AWS S3 연동 구현**
  - 파일 업로드 로직 수정 (`backend/utils/fileUpload.js`)
  - S3 SDK 설치 및 설정
  - 환경변수 설정 (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, S3_BUCKET_NAME)
  - 기존 파일 마이그레이션 스크립트 작성

#### 데이터 백업 자동화
- [ ] **데이터베이스 자동 백업 설정**
  - Render PostgreSQL 자동 백업 확인
  - 추가 백업 스크립트 작성 (S3에 저장)
  - 월 1회 전체 백업 다운로드 및 보관

#### 모니터링 및 로깅
- [ ] **에러 모니터링 도구 설정**
  - Sentry 또는 LogRocket 연동
  - 비용: Sentry Team 플랜 $26/월 또는 무료 플랜 사용
- [ ] **성능 모니터링**
  - Render 기본 모니터링 활용
  - 사용자 정의 메트릭 수집

---

### 2. 데이터 관리 (필수)

#### 자동 삭제 스케줄러
- [ ] **1개월 이상 된 파일 자동 삭제**
  - 백엔드에 스케줄러 작업 추가 (node-cron)
  - 매일 실행하여 만료된 파일 삭제
  - S3에서 파일 삭제 및 DB 레코드 삭제

#### 데이터 정리 작업
- [ ] **보고서 자동 삭제**
  - 1개월 경과 보고서 자동 삭제
  - PDF 파일 및 DB 레코드 삭제

#### 용량 모니터링
- [ ] **스토리지 사용량 알림**
  - 용량이 80% 초과 시 관리자에게 알림
  - 주간 사용량 리포트

---

### 3. AI 판정 제한 구현 (필수)

#### 일일 할당량 제한
- [ ] **일일 50회 제한 로직 구현**
  - 사용자별 일일 사용량 추적 테이블 생성
  - API 엔드포인트에 제한 로직 추가
  - 50회 초과 시 로컬 AI만 사용하도록 변경

```sql
CREATE TABLE ai_usage_daily (
  id SERIAL PRIMARY KEY,
  household_id INTEGER REFERENCES household(id),
  usage_date DATE NOT NULL,
  usage_count INTEGER DEFAULT 0,
  last_used_at TIMESTAMP,
  UNIQUE(household_id, usage_date)
);
```

#### 사용량 대시보드
- [ ] **관리자 페이지에 AI 사용량 표시**
  - 일일/월간 사용량 통계
  - 사용자별 사용량 추적

---

### 4. 성능 최적화 (권장)

#### 이미지 최적화
- [ ] **이미지 압축 강화**
  - 현재 Sharp 사용 중, 압축 레벨 조정
  - WebP 포맷 지원 추가 (용량 30% 절감)
  - 썸네일 생성 최적화

#### 데이터베이스 최적화
- [ ] **인덱스 최적화**
  - 쿼리 성능 분석
  - 필요한 인덱스 추가
  - 불필요한 인덱스 제거

#### 캐싱 전략
- [ ] **Redis 캐싱 추가** (선택)
  - 자주 조회되는 데이터 캐싱
  - 비용: Render Redis $10/월 또는 Upstash 무료 플랜

---

### 5. 보안 강화 (필수)

#### SSL 인증서
- [ ] **커스텀 도메인 SSL 설정**
  - Vercel 자동 SSL 활용
  - Render SSL 인증서 설정

#### API 보안
- [ ] **Rate Limiting 구현**
  - 사용자별 요청 제한 (분당/시간당)
  - DDoS 방어

#### 데이터 암호화
- [ ] **민감 정보 암호화**
  - 개인정보 필드 암호화
  - 비밀번호 해싱 확인

---

### 6. 운영 관리 도구 (권장)

#### 관리자 대시보드 개선
- [ ] **통계 대시보드 추가**
  - 실시간 사용자 수
  - 일일/월간 트랜잭션 통계
  - 스토리지 사용량
  - AI 사용량 통계

#### 알림 시스템
- [ ] **시스템 알림 설정**
  - 에러 발생 시 Slack/이메일 알림
  - 용량 경고 알림
  - 성능 저하 알림

---

### 7. 확장성 준비 (향후 대비)

#### 스케일링 전략
- [ ] **로드 밸런싱 준비**
  - 트래픽 증가 시 다중 인스턴스 운영 가능하도록 설계
  - Render Auto-scaling 설정

#### 데이터베이스 확장
- [ ] **읽기 전용 복제본 설정** (향후)
  - 트래픽 증가 시 읽기 부하 분산
  - 비용: Render PostgreSQL 복제본 $20/월

---

## 📋 우선순위별 작업 계획

### Phase 1: 필수 작업 (즉시 진행)
1. **파일 스토리지 S3 마이그레이션** (1주)
2. **자동 삭제 스케줄러 구현** (3일)
3. **AI 일일 50회 제한 구현** (2일)
4. **Rate Limiting 구현** (2일)

### Phase 2: 중요 작업 (1개월 내)
5. **데이터 백업 자동화** (3일)
6. **모니터링 도구 설정** (3일)
7. **관리자 대시보드 개선** (1주)
8. **성능 최적화** (1주)

### Phase 3: 선택 작업 (필요 시)
9. **Redis 캐싱 추가**
10. **읽기 전용 복제본 설정**

---

## 💡 비용 절감 팁

### 1. AI 비용 절감 (✅ 구현 완료)
- **하이브리드 모드 활용**: 로컬 AI 우선 사용, 신뢰도 낮을 때만 클라우드 호출
  - 예상 절감률: 50-70%
  - 월간 비용: $20 → $6-$10 (Azure) 또는 $0 (Hugging Face)
- **로컬 규칙 기반 우선**: 신뢰도 0.8 이상이면 클라우드 호출 안 함
- **Hugging Face 무료 플랜 활용**: 무료 Inference API 사용 ($0/월)
- **일일 제한 강화**: 사용자별 일일 3-5회로 제한 (향후 구현)
- **GPT-4o 미니 사용**: 정확도 허용 범위 내에서 저렴한 모델 사용 (선택사항)

### 2. 스토리지 비용 절감
- **이미지 압축 강화**: 품질 80%로 낮춰 용량 절감
- **WebP 포맷 사용**: JPEG 대비 30% 용량 절감
- **보관 기간 단축**: 1개월 → 2주 (협의 필요)

### 3. 호스팅 비용 절감
- **프론트엔드**: Vercel Pro 유지 (무료 플랜으로는 부족)
- **백엔드**: Starter 플랜으로 시작, 트래픽 증가 시 Professional 업그레이드
- **데이터베이스**: Starter 플랜으로 시작 (1GB 충분), 필요 시 업그레이드

---

## 📊 예상 월간 총 비용

### 현재 구성 (실제 운영 중)
**약 19,600원-73,600원/월** (약 $14.50-$54.50/월)
- Vercel 플랜에 따라 비용 차이
- AI 판정 사용 여부에 따라 비용 차이
- Render PostgreSQL Starter 플랜 ($7/월) 적용

### 최소 구성 (기본 운영)
**약 73,800원/월** (약 $54.60/월)
- Render PostgreSQL Starter 플랜 ($7/월) 적용
- 파일 스토리지 S3 사용

### 권장 구성 (안정적 운영)
**약 115,600원/월** (약 $86/월)
- Professional 플랜 적용

### 연간 비용
- **현재 구성**: 약 235,200원-883,200원/년
- **최소 구성**: 약 885,600원/년
- **권장 구성**: 약 1,387,200원/년

---

## 🎯 결론

### 현재 운영 구성
- **프론트엔드**: Vercel (업그레이드된 플랜) ($0-$20/월)
- **백엔드**: Render Starter ($7/월)
- **데이터베이스**: Render PostgreSQL Starter ($7/월) ✅ **업그레이드 완료**
- **파일 스토리지**: Render 디스크 (백엔드 포함) ($0/월)
- **AI 판정**: Azure OpenAI (선택사항) ($0-$20/월)
- **총 비용**: 약 $14.50-$54.50/월 (약 19,600원-73,600원)

### 업그레이드 효과
- **Render PostgreSQL**: 무료 플랜 → Starter 플랜 ($7/월)로 업그레이드
  - 무제한 데이터 보관
  - 자동 백업 (7일간 보관)
  - 안정적인 연결 (최대 25개)
- **Vercel**: 무료 플랜 → 한 단계 업그레이드
  - 향상된 성능 및 기능

### 추천 향후 구성 (트래픽 증가 시)
- **프론트엔드**: Vercel Pro ($20/월)
- **백엔드**: Render Professional ($25/월)
- **데이터베이스**: Render PostgreSQL Professional ($20/월)
- **파일 스토리지**: AWS S3 ($0.10/월)
- **AI 판정**: Azure OpenAI ($20/월)
- **총 비용**: 약 $85.60/월 (약 115,600원)

### 우선 작업
1. 파일 스토리지 S3 마이그레이션 (안정성 향상)
2. 자동 삭제 스케줄러
3. AI 일일 50회 제한
4. Rate Limiting 구현

### 현재 상태 요약
✅ **Render PostgreSQL Starter 플랜($7/월)으로 업그레이드 완료**  
✅ **Vercel 한 단계 업그레이드 완료**  
✅ **안정적인 서비스 운영 구성 완료**  

현재 구성으로도 안정적인 서비스 운영이 가능하며, 트래픽 증가 시 단계적으로 업그레이드할 수 있습니다! 🚀

